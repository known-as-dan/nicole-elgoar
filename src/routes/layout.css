@import 'tailwindcss';
@plugin '@tailwindcss/forms';
@plugin '@tailwindcss/typography';

/* Typography */
:root {
	--font-heading: 'Space Grotesk', system-ui, sans-serif;
	--font-body: 'Inter', system-ui, sans-serif;

	/* Base palette */
	--color-bg: #000000;
	--color-text: #f0f0f0;
	--color-muted: #7a7a7a;
}

html {
	background-color: var(--color-bg);
}

body {
	font-family: var(--font-body);
	color: var(--color-text);
	background-color: var(--color-bg);
}

h1,
h2,
h3,
h4,
h5,
h6 {
	font-family: var(--font-heading);
}

/* Page item entrance animations */
@keyframes page-item-enter {
	from {
		opacity: 0;
		transform: translateY(16px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

.page-item-enter {
	opacity: 0;
	animation: page-item-enter 500ms ease-out forwards;
	animation-delay: calc(var(--i, 0) * 60ms);
}

.page-header-enter {
	opacity: 0;
	animation: page-item-enter 500ms ease-out forwards;
}

/* ── Cart badge pop ── */
@keyframes badge-pop {
	0% {
		transform: scale(1.4);
	}
	50% {
		transform: scale(0.95);
	}
	100% {
		transform: scale(1);
	}
}

.badge-pop {
	animation: badge-pop 300ms ease-out;
}

/* ── Nav tab glow system ── */
.nav-tab-glow {
	background: var(--tab-glow);
	opacity: 0;
	filter: blur(8px);
	transform: scale(0.92);
	transition:
		opacity 400ms ease-out,
		transform 400ms ease-out;
}

/* Hover: soft glow fade-in (pointer devices only) */
@media (hover: hover) {
	.nav-tab:hover .nav-tab-glow:not(.nav-tab-glow-active):not(.nav-tab-glow-pulse) {
		opacity: 0.35;
		transform: scale(1);
	}

	/* Pause breathing on hover */
	.nav-tab:hover .nav-tab-glow-active {
		animation-play-state: paused;
	}
}

/* Active: steady breathing glow */
.nav-tab-glow-active {
	opacity: 0.45;
	transform: scale(1);
	animation: nav-glow-breathe 3s ease-in-out infinite;
}

/* Fade out: smooth exit when tab loses active state */
.nav-tab-glow-fadeout {
	animation: nav-glow-fadeout 400ms ease-out forwards;
}

/* Click: bright pulse then settle */
.nav-tab-glow-pulse {
	animation: nav-glow-click 500ms ease-out forwards;
}

@keyframes nav-glow-fadeout {
	from {
		opacity: 0.45;
		transform: scale(1);
	}
	to {
		opacity: 0;
		transform: scale(0.92);
	}
}

@keyframes nav-glow-breathe {
	0%,
	100% {
		opacity: 0.4;
		transform: scale(1);
	}
	50% {
		opacity: 0.5;
		transform: scale(1.02);
	}
}

@keyframes nav-glow-click {
	0% {
		opacity: 0.35;
		transform: scale(1);
	}
	35% {
		opacity: 0.75;
		transform: scale(1.08);
	}
	100% {
		opacity: 0.45;
		transform: scale(1);
	}
}

/* ── Section noise texture ── */
.section-noise {
	background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
	background-size: 200px 200px;
	opacity: 0.08;
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation-duration: 0ms !important;
		animation-delay: 0ms !important;
		transition-duration: 0ms !important;
		transition-delay: 0ms !important;
	}
}

/* ── Accessibility widget overrides ── */

/* Reduce motion (widget toggle) */
.a11y-reduce-motion *,
.a11y-reduce-motion *::before,
.a11y-reduce-motion *::after {
	animation-duration: 0ms !important;
	animation-delay: 0ms !important;
	transition-duration: 0ms !important;
	transition-delay: 0ms !important;
}

/* High contrast */
.a11y-high-contrast {
	filter: contrast(1.35);
}

/* Highlight links */
.a11y-highlight-links a,
.a11y-highlight-links button {
	outline: 2px solid currentColor !important;
	outline-offset: 2px !important;
}
