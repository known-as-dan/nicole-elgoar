import{N as R,O as U,P as w,Q as B,w as A,R as k,y as S,D as Y,U as F,V as z,x as V,K as j,W as G,X as Z,Y as W,Z as q,B as H,A as I,_ as J,a0 as K,a1 as Q,m as L,a2 as X,a3 as ee,a4 as te,G as ae,a5 as se,a6 as re,u as ne,h as ie,a7 as oe,a8 as ce,o as fe,a9 as le,aa as ue,S as de,ab as he}from"./BrAKjK71.js";class _e{anchor;#t=new Map;#a=new Map;#e=new Map;#s=new Set;#r=!0;constructor(t,a=!0){this.anchor=t,this.#r=a}#n=()=>{var t=R;if(this.#t.has(t)){var a=this.#t.get(t),s=this.#a.get(a);if(s)U(s),this.#s.delete(a);else{var o=this.#e.get(a);o&&(this.#a.set(a,o.effect),this.#e.delete(a),o.fragment.lastChild.remove(),this.anchor.before(o.fragment),s=o.effect)}for(const[i,r]of this.#t){if(this.#t.delete(i),i===t)break;const n=this.#e.get(r);n&&(w(n.effect),this.#e.delete(r))}for(const[i,r]of this.#a){if(i===a||this.#s.has(i))continue;const n=()=>{if(Array.from(this.#t.values()).includes(i)){var l=document.createDocumentFragment();F(r,l),l.append(A()),this.#e.set(i,{effect:r,fragment:l})}else w(r);this.#s.delete(i),this.#a.delete(i)};this.#r||!s?(this.#s.add(i),B(r,n,!1)):n()}}};#i=t=>{this.#t.delete(t);const a=Array.from(this.#t.values());for(const[s,o]of this.#e)a.includes(s)||(w(o.effect),this.#e.delete(s))};ensure(t,a){var s=R,o=z();if(a&&!this.#a.has(t)&&!this.#e.has(t))if(o){var i=document.createDocumentFragment(),r=A();i.append(r),this.#e.set(t,{effect:k(()=>a(r)),fragment:i})}else this.#a.set(t,k(()=>a(this.anchor)));if(this.#t.set(s,t),o){for(const[n,c]of this.#a)n===t?s.unskip_effect(c):s.skip_effect(c);for(const[n,c]of this.#e)n===t?s.unskip_effect(c.effect):s.skip_effect(c.effect);s.oncommit(this.#n),s.ondiscard(this.#i)}else S&&(this.anchor=Y),this.#n()}}function Re(e,t,a=!1){S&&j();var s=new _e(e),o=a?G:0;function i(r,n){if(S){const l=Z(e)===W;if(r===l){var c=q();H(c),s.anchor=c,I(!1),s.ensure(r,n),I(!0);return}}s.ensure(r,n)}V(()=>{var r=!1;t((n,c=!0)=>{r=!0,i(c,n)}),r||i(!1,null)},o)}let v=!1;function ge(e){var t=v;try{return v=!1,[e(),v]}finally{v=t}}function Ae(e,t=1){const a=e();return e(a+t),a}function ke(e,t,a,s){var o=!ie||(a&oe)!==0,i=(a&re)!==0,r=(a&ue)!==0,n=s,c=!0,l=()=>(c&&(c=!1,n=r?ne(s):s),n),d;if(i){var $=de in e||he in e;d=J(e,t)?.set??($&&t in e?f=>e[t]=f:void 0)}var h,E=!1;i?[h,E]=ge(()=>e[t]):h=e[t],h===void 0&&s!==void 0&&(h=l(),d&&(o&&K(),d(h)));var u;if(o?u=()=>{var f=e[t];return f===void 0?l():(c=!0,f)}:u=()=>{var f=e[t];return f!==void 0&&(n=void 0),f===void 0?n:f},o&&(a&Q)===0)return u;if(d){var M=e.$$legacy;return(function(f,g){return arguments.length>0?((!o||!g||M||E)&&d(g?u():f),f):u()})}var p=!1,_=((a&ce)!==0?fe:le)(()=>(p=!1,u()));i&&L(_);var N=ae;return(function(f,g){if(arguments.length>0){const P=g?L(_):o&&i?X(f):f;return ee(_,P),p=!0,n!==void 0&&(n=P),f}return te&&p||(N.f&se)!==0?_.v:L(_)})}const ve="en",y=["en","he","ru"],T="PARAGLIDE_LOCALE",me=3456e4,C=["cookie","globalVariable","baseLocale"];globalThis.__paraglide={};let m,O=!1,be=()=>{let e;for(const t of C){if(t==="cookie")e=ye();else if(t==="baseLocale")e=ve;else if(t==="globalVariable"&&m!==void 0)e=m;else if(x(t)&&b.has(t)){const a=b.get(t);if(a){const s=a.getLocale();if(s instanceof Promise)continue;e=s}}if(e!==void 0){const a=Se(e);return O||(m=a,O=!0,we(a,{reload:!1})),a}}throw new Error("No locale found. Read the docs https://inlang.com/m/gerre34r/library-inlang-paraglideJs/errors#no-locale-found")};const pe=e=>{window.location.reload()};let we=(e,t)=>{const a={reload:!0,...t};let s;try{s=be()}catch{}const o=[];for(const r of C)if(r==="globalVariable")m=e;else if(r==="cookie"){if(typeof document>"u"||typeof window>"u")continue;const n=`${T}=${e}; path=/; max-age=${me}`;document.cookie=n}else{if(r==="baseLocale")continue;if(x(r)&&b.has(r)){const n=b.get(r);if(n){let c=n.setLocale(e);c instanceof Promise&&(c=c.catch(l=>{throw new Error(`Custom strategy "${r}" setLocale failed.`,{cause:l})}),o.push(c))}}}const i=()=>{a.reload&&window.location&&e!==s&&pe()};if(o.length)return Promise.all(o).then(()=>{i()});i()},Le=()=>typeof window<"u"?window.location.origin:"http://fallback.com";function D(e){return typeof e!="string"?!1:e?y.some(t=>t.toLowerCase()===e.toLowerCase()):!1}function Se(e){if(typeof e!="string")throw new Error(`Invalid locale: ${e}. Expected a string.`);const t=e.toLowerCase(),a=y.find(s=>s.toLowerCase()===t);if(!a)throw new Error(`Invalid locale: ${e}. Expected one of: ${y.join(", ")}`);return a}function ye(){if(typeof document>"u"||!document.cookie)return;const t=document.cookie.match(new RegExp(`(^| )${T}=([^;]+)`))?.[2];if(D(t))return t}function Ie(e){return Ee(e)}function Ee(e){const t=typeof e=="string"?new URL(e,Le()):new URL(e),a=t.pathname.split("/").filter(Boolean);return a.length>0&&D(a[0])&&(t.pathname="/"+a.slice(1).join("/")),t}const b=new Map;function x(e){return typeof e=="string"&&/^custom-[A-Za-z0-9_-]+$/.test(e)}export{_e as B,Ie as d,be as g,Re as i,y as l,ke as p,we as s,Ae as u};
